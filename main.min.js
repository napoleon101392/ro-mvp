document.addEventListener('DOMContentLoaded',function(){const e=t();const n=document.getElementById('mvp-select');const a=document.getElementById('kill-time');const i=document.getElementById('calculate-btn');const o=document.getElementById('respawn-list');r(e,n);i.addEventListener('click',function(){s(e,n,a,o)})});function t(){return[{name:'Amon Ra',location:'Morroc Pyramid B2F',i:68,size:'Medium',o:'images/monster/AmonRa.gif'},{name:'Atroce',location:'Rachel Field 02',i:240,size:'Large',o:'images/monster/Atroce.gif'},{name:'Baphomet',location:'Labyrinth Forest 3',i:120,size:'Large',o:'images/monster/Baphomet.gif'},{name:'Beelzebub',location:'Cursed Monastery 3',i:720,size:'Large',o:'images/monster/Beelzebub.gif'},{name:'Dark Lord',location:'Glast Heim Chuchyard',i:66,size:'Large',o:'images/monster/DarkLord.gif'},{name:'Detardeurus',location:'Abyss Lake 3',i:180,size:'Large',o:'images/monster/Detardeurus.gif'},{name:'Doppelganger',location:'Geffen Dungeon 3',i:120,size:'Medium',o:'images/monster/Doppelganger.gif'},{name:'Dracula',location:'Geffen Dungeon 2',i:60,size:'Medium',o:'images/monster/Dracula.gif'},{name:'Drake',location:'Sunken Ship 2',i:120,size:'Large',o:'images/monster/Drake.gif'},{name:'Eddga',location:'Payon Field 10',i:120,size:'Large',o:'images/monster/Eddga.gif'},{name:'Egnigem Cenia',location:'Somatology Laboratory 2',i:120,size:'Medium',o:'images/monster/EgnigemCenia.gif'},{name:'Evil Snake Lord',location:'Kunlun Dungeon 3',i:102,size:'Large',o:'images/monster/EvilSnakeLord.gif'},{name:'Fallen Bishop',location:'Cursed Monastery 2',i:120,size:'Medium',o:'images/monster/FallenBishop.gif'},{name:'Garm',location:'Lutie Field',i:120,size:'Large',o:'images/monster/Garm.gif'},{name:'Gloom Under Night',location:'Rachel Sanctuary 5',i:300,size:'Large',o:'images/monster/GloomUnderNight.gif'},{name:'Golden Thief Bug',location:'Prontera Culvert 4',i:60,size:'Small',o:'images/monster/GoldenThiefBug.gif'},{name:'Gopinch',location:'Dremuchi Forest',i:125,size:'Medium',o:'images/monster/Gopinch.gif'},{name:'Ifrit',location:'Thor\'s Volcano 3',i:660,size:'Large',o:'images/monster/Ifrit.gif'},{name:'Kiel-D-01',location:'Kiel Dungeon 2',i:120,size:'Medium',o:'images/monster/KielD01.gif'},{name:'Lady Tanee',location:'Ayothaya Dungeon 2',i:420,size:'Small',o:'images/monster/LadyTanee.gif'},{name:'Lord of the Dead',location:'Niflheim',i:133,size:'Large',o:'images/monster/LordoftheDead.gif'},{name:'Maya',location:'Ant Hell 2',i:130,size:'Large',o:'images/monster/Maya.gif'},{name:'Mistress',location:'Mt. Mjolnir 4',i:120,size:'Small',o:'images/monster/Mistress.gif'},{name:'Moonlight Flower',location:'Payon Cave 5',i:60,size:'Small',o:'images/monster/MoonlightFlower.gif'},{name:'Orc Hero',location:'Geffen Field 14',i:70,size:'Large',o:'images/monster/Orc Hero.gif'},{name:'Orc Lord',location:'Geffen Field 10',i:123,size:'Large',o:'images/monster/OrcLord.gif'},{name:'Osiris',location:'Pyramid 4F',i:67,size:'Medium',o:'images/monster/Osiris.gif'},{name:'Pharaoh',location:'Sphinx 5',i:73,size:'Medium',o:'images/monster/Pharaoh.gif'},{name:'Phreeoni',location:'Morroc Field 15',i:120,size:'Medium',o:'images/monster/Phreeoni.gif'},{name:'RSX 0806',location:'Mine Dungeon 2',i:130,size:'Large',o:'images/monster/RSX0806.gif'},{name:'Samurai Specter',location:'Amatsu Dungeon 3',i:96,size:'Large',o:'images/monster/SamuraiSpecter.gif'},{name:'Stormy Knight',location:'Toy Factory 2',i:60,size:'Medium',o:'images/monster/StormyKnight.gif'},{name:'Tao Gunka',location:'Beach Dungeon, West Cave',i:300,size:'Small',o:'images/monster/TaoGunka.gif'},{name:'Turtle General',location:'Turtle Island 4',i:63,size:'Large',o:'images/monster/TurtleGeneral.gif'},{name:'Valkyrie Randgris',location:'Odin Shrine 3',i:480,size:'Large',o:'images/monster/ValkyrieRandgris.gif'},{name:'Vesper',location:'Juperos Core',i:120,size:'Large',o:'images/monster/Vesper.gif'},{name:'White Lady',location:'Louyang Dungeon 3',i:117,size:'Large',o:'images/monster/WhiteLady.gif'},{name:'Wounded Morocc',location:'Dimensional Gorge',i:720,size:'Large',o:'images/monster/WoundedMorocc.gif'}]}function r(e,a){e.forEach(e=>{const n=document.createElement('option');n.value=e.name;n.textContent=`${e.name} (${e.size})`;a.appendChild(n)})}function s(e,n,a,i){const o=e.find(e=>e.name===n.value);let t=a.value.split(':');if(!a.value){t=c().split(':')}const r=u(t,o.i);const s=d(r);const m=new Date;let l=p(r,m);if(l<0){f('Error: Respawn time has already passed!')}else{if(w(i,o.name)){alert(`MVP ${o.name} is already in the respawn list.`);return}const g=h(o,s,l,r,i);i.appendChild(g);L(i);U(g,o,s,r,i)}}function c(){const e=new Date;const n=e.getHours().toString().padStart(2,'0');const a=e.getMinutes().toString().padStart(2,'0');return`${n}:${a}`}function u(e,n){const a=parseInt(e[0],10);const i=parseInt(e[1],10);let o=a*60+i+n;let t=Math.floor(o/60);let r=o%60;if(t>=24){t-=24}const s=new Date;s.setHours(t,r,0,0);const m=new Date;let l=(m-s)/(1e3*60*60);if(l>24){s.setDate(s.getDate()+1)}return s}function d(e){const n=String(e.getHours()).padStart(2,'0');const a=String(e.getMinutes()).padStart(2,'0');return`${n}:${a}`}function p(e,n){return e-n}function f(e){const n=document.createElement('div');n.textContent=e;n.className='alert alert-danger text-center';document.body.appendChild(n);setTimeout(()=>{document.body.removeChild(n)},1e3)}function w(e,n){return Array.from(e.children).some(e=>e.textContent.includes(n))}function h(e,n,a,i,o){const t=document.createElement('li');t.className='list-group-item d-flex justify-content-between align-items-center';const r=m(t,o);const s=document.createElement('span');s.textContent=`${e.name} will respawn at ${n} (${Math.floor(a/(1e3*60*60))}h ${Math.floor(a%(1e3*60*60)/(1e3*60))}m ${Math.floor(a%(1e3*60)/1e3)}s left)`;t.appendChild(s);t.appendChild(r);t.dataset.t=i.getTime();return t}function m(e,n){const a=document.createElement('button');a.textContent='DELETE';a.className='btn btn-danger btn-sm ml-auto';a.addEventListener('click',()=>{if(n.contains(e)){n.removeChild(e)}else{console.error('Attempted to remove a list item that is not a child of respawnList.')}});return a}function L(n){const e=Array.from(n.children);e.sort((e,n)=>parseInt(e.dataset.t,10)-parseInt(n.dataset.t,10));e.forEach(e=>n.appendChild(e))}function U(r,s,m,l,g){function e(){const e=new Date;let n=p(l,e);if(n<0){if(g.contains(r)){g.removeChild(r)}else{console.error('Attempted to remove a list item that is not a child of respawnList.')}const t=(new Date).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});// Get the current time in 12-hour format
y(`${s.name}(${s.size}) has respawned!`);z(`${s.name}(${s.size}) has respawned!`,s,t);return}const a=Math.floor(n/(1e3*60*60));const i=Math.floor(n%(1e3*60*60)/(1e3*60));const o=Math.floor(n%(1e3*60)/1e3);r.querySelector('span').textContent=`${s.name} (${s.size}) will respawn at ${m} (${a}h ${i}m ${o}s left)`}e();const n=setInterval(()=>{e();if(p(l,new Date)<0){clearInterval(n)}},1e3)}function z(e,n,a){
// Ensure there is a container for alerts
let i=document.getElementById('alert-container');if(!i){i=document.createElement('div');i.id='alert-container';i.style.position='fixed';i.style.top='10px';i.style.right='10px';i.style.zIndex='1000';i.style.width='300px';// Adjust width as needed
document.body.appendChild(i)}const o=document.createElement('div');o.className='alert alert-info text-center';o.style.marginTop='10px';// Ensure alerts overlap each other
const t=document.createElement('img');t.src=n.o;t.alt=n.name;t.style.width='100px';// Adjust size as needed
t.style.height='100px';// Adjust size as needed
t.style.display='block';t.style.margin='0 auto 10px';const r=document.createElement('p');r.textContent=e;const s=document.createElement('p');s.textContent=`Location: ${n.location}`;const m=document.createElement('p');m.textContent=`Spawned at: ${a}`;const l=document.createElement('button');l.className='btn btn-danger';l.textContent='Close';l.style.position='absolute';l.style.top='10px';l.style.right='10px';l.onclick=()=>{i.removeChild(o)};o.appendChild(t);o.appendChild(r);o.appendChild(s);o.appendChild(m);o.appendChild(l);i.appendChild(o)}function y(e){const n='';fetch(n,{method:'POST',headers:{m:'application/json'},body:JSON.stringify({content:e})})["catch"](e=>console.error('Error sending Discord alert:',e))}